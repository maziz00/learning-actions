name: 17 - 2 - Custom Actions - JS

run-name: 17 - 2 - Custom Actions - JS | BB ${{ inputs.base-branch}} - TB ${{ inputs.target-branch }} - WD ${{ inputs.working-dir }} 

permissions:
    contents: write
    pull-requests: write


on:
    workflow_dispatch:
        inputs:
            base-branch:
                type: string
                default: master
            target-branch:
                type: string
                default: update-dependencies
            working-dir:
                type: string
                default: 17-custom-actions/react-app
            gh-token:
                type: string
                description: GitHub token with permissions to create a PR
                default: ${{ secrets.GH_TOKEN }}

jobs:
    dependency-update:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout Code   
              uses: actions/checkout@v4

            - name: Check for dependency updates
              uses: ./.github/actions/js-dependency-update
              with:
                base-branch: ${{ inputs.base-branch }}
                target-branch: ${{ inputs.target-branch }}
                working-directory: ${{ inputs.working-dir }}
                github-token: ${{ inputs.gh-token }}